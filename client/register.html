<!doctype html><html><head><meta charset="utf-8"><title>注册</title></head>
<body>
<div id="topnav" style="background:#f5f5f5;padding:8px;border-bottom:1px solid #ddd;">
  <a href="/">登录</a>
</div>

<h2>注册</h2>
<form id="form">
  用户名: <input name="username" required><br>
  密码: <input type="password" name="password" required><br>
  邮箱: <input type="email" name="email" required><br>
  <button>注册</button>
</form>
<script>
document.getElementById('form').onsubmit = async (e) => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target));
  const res = await fetch('http://localhost:5000/api/auth/register', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  });
  if (res.ok) { alert('注册成功'); location.href = '/login.html'; }
  else alert('用户名已存在');
};
</script>
</body></html>